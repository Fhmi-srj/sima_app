@startuml Sequence Diagram - Melihat KHS Mahasiswa

title Sequence Diagram: Melihat KHS Mahasiswa

actor Mahasiswa as mhs
participant "Halaman KHS" as page
participant "KHS Controller" as ctrl
database "Database" as db

mhs -> page : Pilih menu Akademik > KHS
activate page

page -> ctrl : getKHSList(nim)
activate ctrl
ctrl -> db : SELECT khs, grades WHERE nim = ?
activate db
db --> ctrl : KHS list with grades
deactivate db
ctrl --> page : KHS data
deactivate ctrl

page --> mhs : Tampilkan daftar KHS per semester\n(IPK, Total SKS, Predikat)

mhs -> page : Pilih semester KHS
page --> mhs : Tampilkan kartu KHS semester

mhs -> page : Tap kartu KHS
page -> ctrl : getKHSDetail(khs_id)
activate ctrl
ctrl -> db : SELECT grades, courses WHERE khs_id = ?
activate db
db --> ctrl : Detailed grades
deactivate db
ctrl --> page : KHS detail
deactivate ctrl

page --> mhs : Tampilkan modal detail KHS\n(IPS, Daftar Nilai per Matkul)

opt Lihat detail matkul
    mhs -> page : Tap mata kuliah
    page --> mhs : Tampilkan komponen nilai\n(UTS, UAS, Tugas, Quiz)
end

mhs -> page : Tutup modal
page --> mhs : Kembali ke daftar KHS

deactivate page

@enduml

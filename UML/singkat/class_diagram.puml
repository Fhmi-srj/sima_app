@startuml Class Diagram - SIMA

title Class Diagram: Sistem Informasi Mahasiswa Akademik (SIMA)

skinparam classAttributeIconSize 0

' ===== USER CLASSES =====
abstract class User {
  - id: String
  - name: String
  - email: String
  - password: String
  - phone: String
  - role: UserRole
  + login()
  + logout()
  + updateProfile()
}

class Mahasiswa {
  - nim: String
  - prodi: String
  - angkatan: String
  - semester: int
  - ipk: double
  + lihatJadwal()
  + isiKRS()
  + lihatKHS()
  + absensi()
  + ajukanIzin()
  + bayarTagihan()
}

class Dosen {
  - nip: String
  - jabatan: String
  - prodi: String
  + lihatJadwalMengajar()
  + inputNilai()
  + approveKRS()
  + approveIzin()
  + bukaAbsensi()
}

class Admin {
  - adminId: String
  - level: String
  + kelolaMahasiswa()
  + kelolaDosen()
  + kelolaJadwal()
  + verifikasiPembayaran()
  + publikasiKHS()
}

' ===== ACADEMIC CLASSES =====
class MataKuliah {
  - kode: String
  - nama: String
  - sks: int
  - semester: int
  - prodi: String
}

class Kelas {
  - kode: String
  - nama: String
  - mataKuliah: MataKuliah
  - dosen: Dosen
  - jadwal: Jadwal
  - kapasitas: int
}

class Jadwal {
  - id: String
  - hari: String
  - waktuMulai: Time
  - waktuSelesai: Time
  - ruangan: String
}

class KRS {
  - id: String
  - semester: String
  - tahunAjaran: String
  - status: KRSStatus
  - totalSKS: int
  - tanggalSubmit: Date
  - tanggalApprove: Date
}

class KHS {
  - id: String
  - semester: String
  - ips: double
  - totalSKS: int
  - status: String
}

class Nilai {
  - id: String
  - uts: double
  - uas: double
  - tugas: double
  - quiz: double
  - nilaiAkhir: double
  - nilaiHuruf: String
}

' ===== ATTENDANCE CLASSES =====
class Absensi {
  - id: String
  - tanggal: Date
  - waktu: Time
  - status: AbsensiStatus
}

class Izin {
  - id: String
  - jenis: String
  - alasan: String
  - fileBukti: String
  - status: IzinStatus
  - tanggalAjuan: Date
}

' ===== FINANCE CLASSES =====
class Tagihan {
  - id: String
  - jenis: String
  - nominal: double
  - jatuhTempo: Date
  - status: TagihanStatus
}

class Pembayaran {
  - id: String
  - tanggal: Date
  - nominal: double
  - metode: String
  - buktiTransfer: String
  - status: PembayaranStatus
}

class Sertifikat {
  - id: String
  - nama: String
  - penerbit: String
  - tanggal: Date
  - kategori: String
  - filePath: String
}

' ===== ENUMS =====
enum UserRole {
  MAHASISWA
  DOSEN
  ADMIN
}

enum KRSStatus {
  DRAFT
  PENDING
  APPROVED
  REJECTED
}

enum AbsensiStatus {
  HADIR
  IZIN
  ALPHA
}

enum IzinStatus {
  PENDING
  APPROVED
  REJECTED
}

enum TagihanStatus {
  BELUM_LUNAS
  PENDING_VERIFIKASI
  LUNAS
}

enum PembayaranStatus {
  PENDING
  VERIFIED
  REJECTED
}

' ===== RELATIONSHIPS =====
User <|-- Mahasiswa
User <|-- Dosen
User <|-- Admin

Mahasiswa "1" -- "*" KRS
Mahasiswa "1" -- "*" KHS
Mahasiswa "1" -- "*" Absensi
Mahasiswa "1" -- "*" Izin
Mahasiswa "1" -- "*" Tagihan
Mahasiswa "1" -- "*" Pembayaran
Mahasiswa "1" -- "*" Sertifikat

Dosen "1" -- "*" Kelas : mengajar
Dosen "1" -- "*" KRS : menyetujui
Dosen "1" -- "*" Izin : menyetujui

Kelas "*" -- "1" MataKuliah
Kelas "1" -- "1" Jadwal
Kelas "1" -- "*" Nilai

KRS "*" -- "*" MataKuliah : berisi
KHS "1" -- "*" Nilai

Tagihan "1" -- "0..1" Pembayaran

Admin "1" -- "*" Tagihan : mengelola
Admin "1" -- "*" Pembayaran : memverifikasi

@enduml

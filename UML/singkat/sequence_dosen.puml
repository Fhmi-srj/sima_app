@startuml Sequence Diagram - Dosen

title Sequence Diagram: Alur Utama Dosen

actor Dosen as dsn
participant "Aplikasi SIMA" as app
participant "Controller" as ctrl
database "Database" as db
participant "Mahasiswa" as mhs

== Login ==
dsn -> app : Login(NIP, Password)
app -> ctrl : validateLogin()
ctrl -> db : SELECT user
db --> ctrl : User data
ctrl --> app : Login success
app --> dsn : Tampilkan Beranda Dosen

== Jadwal & Absensi ==
dsn -> app : Lihat Jadwal Mengajar
app -> db : getTeachingSchedule()
db --> app : Schedule list
app --> dsn : Tampilkan jadwal

dsn -> app : Buka sesi absensi
app -> db : UPDATE session status=open
app --> dsn : Sesi absensi dibuka
note right: Mahasiswa dapat absensi

== Input Nilai ==
dsn -> app : Pilih kelas
app -> db : getStudentList()
db --> app : Student list
app --> dsn : Tampilkan daftar mahasiswa

dsn -> app : Input nilai (UTS, UAS, Tugas)
app -> db : UPDATE grades
db --> app : Success
app --> dsn : Nilai tersimpan

== Approve KRS ==
dsn -> app : Lihat KRS pending
app -> db : getKRSPending()
db --> app : KRS list
dsn -> app : Approve KRS
app -> db : UPDATE krs status=approved
app -> mhs : Notify KRS approved

== Approve Izin ==
dsn -> app : Lihat izin pending
app -> db : getIzinPending()
db --> app : Izin list
dsn -> app : Approve izin
app -> db : UPDATE izin status=approved
app -> mhs : Notify izin approved

@enduml
